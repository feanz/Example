@{
    ViewBag.Title = "Backbone";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>
    Back Bone Example</h2>
<div id="backbone">
</div>
@section Scripts
{
    <script src="../../Scripts/libs/Underscore-1.3.0.min.js" type="text/javascript"></script>
    <script src="../../Scripts/libs/Backbone-0.5.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        (function ($) {

            var ListView = Backbone.View.extend({

                el: $('#backbone'), // attaches `this.el` to an existing element.
                initialize: function () {
                    _.bindAll(this, 'render', 'addItem'); // every function that uses 'this' as the current object should be in here

                    this.counter = 0; // total number of items added thus far
                    this.render();
                },

                render: function () {
                    $(this.el).append("<input id='AddItem' type='text' />")
                    $(this.el).append("<button id='add'>Add list item</button>");
                    $(this.el).append("<ul></ul>");
                },
                events: {
                    'click button#add': 'addItem'
                },
                addItem: function () {
                    this.counter++;
                    $('ul', this.el).append("<li> Name: " + $("#AddItem").val() + " Number: " + this.counter + "</li>");
                }
            });

            var listView = new ListView();
        })(jQuery);
        
    </script>
}
